<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
     PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<title>Macro plugin for OpenKore and VisualKore</title>
<style type="text/css">
	body { font-family: Bitstream Vera Sans, Arial; font-size: small; margin-left: 10%; margin-right: 10% }
	h1 { font-size: 14pt }
	h2 { font-size: 12pt }
	h3 { font-size: medium; margin: 0; padding: 0 }
	h1, h2 { border-bottom: 1px #cccccc solid; padding-bottom: 0.05cm; color: #336688 }
	dd { margin-bottom: 10px }
	a { text-decoration: none }
	a:hover { text-decoration: underline }
	.commands dt { font-family: Monospace, Bitstream Vera Sans Mono, Courier New, Courier }
	.commands dd { margin-bottom: 0.2cm }
	.code { background: #ffffea; border: #d0d0d0 1px dotted; padding: 0.1cm; margin-left: 0.4cm; width: 75% }
	.quote { color: #00f000; background: #000000; border: #d0d0d0 1px solid; padding: 0.1cm; margin-left: 0.4cm; width: 75% }
	.contents { background: #f5efff; border: #bfa9e5 1px solid; padding: 0.17cm; width: 75% }
	.contents h1 { margin: 0; padding: 0; border: none; color: black; font-size: 12pt }
	.contents ul { margin: 0; padding: 0; margin-left: 0.75cm; margin-top: 0.1cm }
	.keywords tt { color: #005500 }
	.p { margin-bottom: 0.7cm; margin-left: 0.2cm }
	.linux { margin: 0; padding: 0; margin: 0.1cm; margin-left: 0.5cm }
	table { margin-left: 0.75cm; margin-right: 0.75cm }
	tr.head { background: #c0c0ff }
	tr.one { background: #f5efff }
	tr.two { background: #f0f0f0 }
	td { padding: 5px }
</style>
	<link href="style.css" type="text/css" rel="stylesheet"/>
</head>

<body>
<h1><a name="top"></a>Version</h1>
<div class="p">
	This manual is for macro plugin version 1.2.0.<br />
	$Date: 2006-03-23 21:17:50 +0100 (do, 23 mrt 2006) $
</div>

<h1>What is the macro plugin?</h1>
<div class="p">
	With this plugin you can predefine command sequences (macros) which are run either manually or by situation-dependent triggers.

	<p />
	<div class="contents">
		<h1>Table of contents</h1>
		<ul>
		<li><a href="#installation">Installation</a></li>
		<li><a href="#commands">Commands</a></li>
		<li><a href="#files">Configuration files</a></li>
		<li><a href="#macro">Macro syntax</a>
			<ul>
			<li><a href="#macro_1">Variable declaration and usage</a></li>
			<li><a href="#macro_2">Special variables</a></li>
			<li><a href="#macro_3">Nested variables</a></li>
			<li><a href="#macro_4">Flow control and labels</a></li>
			<li><a href="#macro_5">Special keywords</a></li>
			<li><a href="#macro_6">Simple Macro Example</a></li>
			</ul>
		</li>
		<li><a href="#macrobnf">full overview of macro's syntax (bnf)</a></li>
		<li><a href="#automacro">Automacro syntax</a>
			<ul>
			<li><a href="#automacro_1">Automacro Example</a></li>
			</ul>
		</li>
		<li><a href="#orphan">Orphaned macros</a></li>
		<li><a href="#debugging">Debugging</a></li>
		<li><a href="#todo">Todos/Known bugs/Known limitations</a></li>
		<li><a href="#download">Download</a></li>
		<li><a href="#cvs">Development version (SVN)</a></li>
		<li><a href="#extras">Extras</a></li>
		<li><a href="#faq">Frequently asked questions</a></li>
		<li><a href="#forum">Forum discussion</a></li>
		<li><a href="#license">License</a></li>
		<li><a href="#author">Author</a></li>
		</ul>
	</div>
</div>

<h2><a name="installation"></a>Installation</h2>
<div class="p">
	First grab your <a href="#download">copy</a> of the macro plugin and unzip the file.<br />
	You should now have a folder called <tt>Macro</tt> containing some <tt>.pm</tt> files and two files called
	<tt>macro.pl</tt> and <tt>cvsdebug.pm</tt>.<br />
	Create a folder <tt>plugins</tt> in your openkore folder and put the <tt>Macro</tt> folder and the
	<tt>macro.pl</tt> file inside. Copy <tt>cvsdebug.pm</tt> in your openkore root folder then create a blank
	file <tt>macros.txt</tt> in your <tt>control</tt> folder. This is where your macros/automacros belong in.<br />
	<p />
	Your openkore tree should look like this (ignoring openkore's own files):
<pre class="quote">
openkore
|-- control
|   `-- macros.txt
|-- cvsdebug.pm
|-- fields
|-- logs
|-- plugins
|   |-- Macro
|   |   |-- Automacro.pm
|   |   |-- Data.pm
|   |   |-- Parser.pm
|   |   |-- Script.pm
|   |   `-- Utilities.pm
|   `-- macro.pl
|-- src
`-- tables
</pre>
	To configure the plugin please refer to the <a href="#files">Configuration files</a> topic.<br />
	Before being able to use this plugin you'll need to read this documentation.<br />

<a href="#top"><small>back to top</small></a>
</div>

<h2><a name="commands"></a>Commands</h2>
<div class="p">
	<dl class="commands">
		<dt><b>macro</b> <i>&lt;macroname&gt;</i> [options] [-- parameter(s)]</dt>
		<dd>Runs macro <i>&lt;macroname&gt;</i>.<br />
<table>
<tr class="head"><td><b>option</b></td><td><b>value</b></td><td><b>description</b></td></tr>
<tr class="one"><td>-repeat</td><td>n</td><td>repeat the macro <i>n</i> times</td></tr>
<tr class="two"><td>-overrideAI</td><td>(none)</td><td>override openkore's AI</td></tr>
<tr class="one"><td>-macro_delay</td><td>delay</td><td>override global macro_delay for this macro</td></tr>
<tr class="one"><td>-orphan</td><td>method</td><td>use <i>method</i> for handling <a href="#orphan">orphaned</a> macros</td></tr>
</table>
		Parameters for the macro can be specified after a double dash (--). These parameters are saved to
		the variables <tt>$.param1</tt> to <tt>$.param<i>N</i></tt>.<br />
		Example:
		<pre class="code">macro foo {
    log Parameter 1 is $.param1
    log Parameter 2 is $.param2
}</pre>
		When called as <tt>macro foo -- foo bar</tt> it would print out
		<pre class="quote">[macro] Parameter 1 is foo
[macro] Parameter 2 is bar
</pre>
</dd>

		<dt><b>macro list</b></dt>
		<dd>Lists all available macros.</dd>

		<dt><b>macro stop</b></dt>
		<dd>Stop current macro.</dd>

		<dt><b>macro pause</b></dt>
		<dd>interrupts the running macro</dd>

		<dt><b>macro resume</b></dt>
		<dd>resumes an interrupted macro</dd>

		<dt><b>macro set</b> <i>variable</i> <i>value</i></dt>
		<dd>set/change <i>varibale</i> to <i>value</i> or delete <i>variable</i> if no value is given.</dd>

		<dt><b>macro version</b></dt>
		<dd>Print version number.</dd>

		<dt><b>macro reset</b> [<i>&lt;name(s)&gt;</i>]</dt>
		<dd>Resets all run-once automacros or the specified automacro <i>&lt;name&gt;</i>.</dd>

		<dt><b>macro status</b></dt>
		<dd>Shows whether or not a macro is currently running. If
that's the case it shows the delay for the next command, the current line,
overrideAI setting, whether or not it has finished and whether or not the
macro registered to AI queue</dd>

	</dl>
<a href="#top"><small>back to top</small></a>
</div>


<h2><a name="files"></a>Configuration files</h2>
<div class="p">
	<dl class="commands">
		<dt>controls/macros.txt</dt>
		<dd>Put your macros and automacros in here.</dd>

		<dt>controls/timeouts.txt</dt>
		<dd>Add <tt>macro_delay</tt> and set it to the number of seconds you want the plugin to pause between commands.</dd>

		<dt>controls/config.txt</dt>
		<dd>
<table>
<tr class="head"><td><b>variable</b></td><td><b>values</b></td><td><b>description</b></td></tr>
<tr class="one"><td>macro_nowarn</td><td>0<br />1</td><td>enable or disable the annoying warnings when not<br />using <tt>call</tt> in your automacro(s)</td></tr>
<tr class="two"><td>macro_orphans</td><td>terminate<br />reregister<br />reregister_safe</td><td><a href="#orphan">see orphaned macros section</a></td></tr>
<tr class="one"><td>macro_debug</td><td>level(s)</td><td><a href="#debugging">see debugging section</a></td></tr>
</table>
</dd>
	</dl>
<a href="#top"><small>back to top</small></a>
</div>


<h2><a name="macro"></a>Macro syntax</h2>
<div class="p">
	<pre class="code">macro foo {
    do this..
    and that..
    yattayatta..
}</pre>
	In theory, you can use any console command in a macro. I tested this plugin for buying silver arrows, talking to npc
	and pm'ing people. Lazy people could use this plugin for completing the amatsu dungeon quest or something like that.<br />

	<dl class="commands">
	<dt><b>do</b> <i>&lt;command&gt;</i></dt>
	<dd>let openkore run <i>&lt;command&gt;</i>.<br />
	Examples:
	<pre class="code">macro foo {
    do move prontera 123 234
    do sit
    do c "hello world"
}</pre></dd>

	<dt><b>log</b> <i>&lt;text&gt;</i></dt>
	<dd>Sends <i>&lt;text&gt;</i> to console.<br />
	Examples:
	<pre class="code">macro foo {
    log This line logs a text to console.
    log All your base are belong to us!
}</pre></dd>

	<dt><b>pause</b> [<i>&lt;n&gt;</i>]</dt>
	<dd>pauses for one or <i>&lt;n&gt;</i> seconds.<br />
	Example:
	<pre class="code">macro foo {
    log I'm here and...
    pause 10
    log now I'm here.
}</pre></dd>

	<dt><b>call</b> <i>&lt;macroname&gt;</i> [<i>&lt;n&gt;</i>]</dt>
	<dd>calls a macro <i>&lt;macroname&gt;</i> [<i>&lt;n&gt;</i> times]. When <i>&lt;macroname&gt;</i> is finished the current macro continues.</dd>

	<dt><a name="macro_release"></a><b>release</b> (<i>name</i> | <tt>all</tt>)</dt>
	<dd>reenables a locked automacro ("run-once" keyword or locked by "lock") or reenables all automacros when using <tt>release all</tt></dd>

	<dt><a name="macro_lock"></a><b>lock</b> (<i>name</i>)</dt>
	<dd>locks an automacro and disables it's checks</dd>

	<dt><b>stop</b></dt>
	<dd>immediately terminates the running macro</dd>
	</dl>

	<h3><a name="macro_1"></a>Variable declaration and usage</h3>
	You can define and work with own variables.<br />
	To set a variable use <i>$variable = value</i>, to recall the value use <i>$variable</i>.<br />
	It is possible to increment and to decrement a variable.<br />
	Note that variable names must begin with a letter and must not contain anything other than letters and digits.<br />
	Examples:
	<pre class="code">macro foo {
   $var1 = world
   $var2 = hello
   $var3 = $var2 $var1
   log next line will yell out "hello world . world . hello"
   do c $var3 . $var1 . $var2
   $var4 = 47
   log \$var4 is $var4
   $var4++
   log \$var4 is $var4
   $var4 = @eval ($var4 + 52)
   log \$var4 is $var4
}</pre>

	<p />
	<h3><a name="macro_2"></a>Special variables</h3>
	There are special readonly variables which begin with a dot.<br />
	<ul class="keywords">
		<li><tt>$.map</tt> - the map you're on ("prontera")</li>
		<li><tt>$.pos</tt> - your current position ("123 234")</li>
		<li><tt>$.time</tt> - current time as unix timestamp ("1131116304")</li>
		<li><tt>$.datetime</tt> - current date and time ("Fri Nov  4 15:59:36 2005")</li>
		<li><a name=".lastLogMsg"></a><tt>$.lastLogMsg</tt> - the text that triggered the last automacro condition "console"</li>
		<li><a name=".lastpub"></a><tt>$.lastpub</tt> - the name of the player who triggered the last automacro condition "pubm"</li>
		<li><a name=".lastpubMsg"></a><tt>$.lastpubMsg</tt> - what he wrote</li>
		<li><a name=".lastpm"></a><tt>$.lastpm</tt> - the name of the player who triggered the last automacro condition "pm"</li>
		<li><a name=".lastpmMsg"></a><tt>$.lastpmMsg</tt> - what he wrote</li>
		<li><a name=".lastguild"></a><tt>$.lastguild</tt> - the name of the player who triggered the last automacro condition "guild"</li>
		<li><a name=".lastguildMsg"></a><tt>$.lastguildMsg</tt> - what he wrote</li>
		<li><a name=".lastparty"></a><tt>$.lastparty</tt> - the name of the player who triggered the last automacro condition "party"</li>
		<li><a name=".lastpartyMsg"></a><tt>$.lastpartyMsg</tt> - what he wrote</li>
		<li><a name=".lastMonster"></a><tt>$.lastMonster</tt> - the name of the monster which triggered the last automacro condition "monster"</li>
		<li><a name=".lastMonsterPos"></a><tt>$.lastMonsterPos</tt> - the last known position of that monster ("123 234 prontera")</li>
		<li><a name=".lastMatch"></a><tt>$.lastMatch<i>N</i></tt> - backreferences for the last <a href="http://www.regular-expressions.info">regexp</a> match</li>
		<li><a name=".param"></a><tt>$.param<i>N</i></tt> - command line parameters (see <a href="#commands">commands</a>)</li>
		<li><a name=".caller"></a><tt>$.caller</tt> - name of the last triggered automacro</li>
	</ul>

	<p />
	<h3><a name="macro_3"></a>Nested variables</h3>
	You can define dynamic or nested variables.<br />
	Examples:
	<pre class="code">macro foo {
    $var = foo
    log \$var is "foo"
    ${$var} = bar
    log \$\$var is \$foo is "bar"
}</pre>

	<p />
	<h3><a name="macro_4"></a>Flow control and labels</h3>
	While all high level programming languages have constructs like "if .. then", "while", "repeat", "for .. next",
	"do .. while" and function calls their common denominators are "if", "goto" and "while". That's why the macro
	plugin only supports these three keywords.<br />
	Since there are no (visible) line numbers you'll need to use labels which can be defined by a colon followed
	by the name of the label.<br />
	Example for a "while" construct:
	<pre class="code">macro foo {
    $i = 0
    log the next lines will loop 11 times (0 .. 10)
    while ($i &lt;= 10) as exampleloop
    	log loop $i
    	$i++
    end exampleloop
}</pre>
	Examples:
	<pre class="code">macro foo {
   $i = @random ("1", "2", "3")
   if ($i = 1) goto one
   if ($i = 2) goto two
   log i is three.
   goto end
   :one
   log i is one
   goto end
   :two
   log i is two
   :end
}</pre>

	<p />
	<h3><a name="macro_5"></a>Special keywords</h3>
	<dl class="commands">
	<dt><b>@npc</b> (<i>&lt;x&gt; &lt;y&gt;</i>)</dt>
	<dd>expands to npc's ID who's located at <i>&lt;x&gt;</i>, <i>&lt;y&gt;</i></dd>
	<dt><b>@inventory</b> (<i>&lt;item&gt;</i>)</dt>
	<dd>searches your inventory for <i>&lt;item&gt;</i> and returns ID</dd>
	<dt><b>@cart</b> (<i>&lt;item&gt;</i>)</dt>
	<dd>searches your cart for <i>&lt;item&gt;</i> and returns ID</dd>
	<dt><b>@storage</b> (<i>&lt;item&gt;</i>)</dt>
	<dd>searches your storage for <i>&lt;item&gt;</i> and returns ID</dd>
	<dt><b>@player</b> (<i>&lt;name&gt;</i>)</dt>
	<dd>looks for a player and returns ID</dd>
	<dt><b>@vender</b> (<i>&lt;name&gt;</i>)</dt>
	<dd>looks for a vender and returns ID</dd>
	<dt><b>@store</b> (<i>&lt;name&gt;</i>)</dt>
	<dd>looks for an item in a store and returns ID</dd>
	<dt><b>@random</b> ("<i>&lt;argument1&gt;</i>"[, "<i>&lt;argument2&gt;</i>"[, ...]])</dt>
	<dd>returns randomly one of the given arguments</dd>
	<dt><b>@rand</b> (<i>&lt;n&gt;</i>, <i>&lt;m&gt;</i>)</dt>
	<dd>returns a random number between (and including) <i>&lt;n&gt;</i> and <i>&lt;m&gt;</i></dd>
	<dt><b>@invamount</b> (<i>&lt;item&gt;</i>)</dt>
	<dd>returns the amount of the given <i>&lt;item&gt;</i> in inventory</dd>
	<dt><b>@cartamount</b> (<i>&lt;item&gt;</i>)</dt>
	<dd>returns the amount of the given <i>&lt;item&gt;</i> in cart</dd>
	<dt><b>@shopamount</b> (<i>&lt;item&gt;</i>)</dt>
	<dd>returns the amount of the given <i>&lt;item&gt;</i> in shop</dd>
	<dt><b>@storamount</b> (<i>&lt;item&gt;</i>)</dt>
	<dd>returns the amount of the given <i>&lt;item&gt;</i> in storage</dd>
	<dt><b>@eval</b> (<i>&lt;argument&gt;</i>)</dt>
	<dd>evaluates the given <i>&lt;argument&gt;</i></dd>
	<dt><b>@arg</b> ("<i>&lt;argument&gt;</i>", <i>&lt;n&gt;</i>)</dt>
	<dd>returns the <i>&lt;n&gt;</i>th word of <i>&lt;argument&gt;</i></dd>
	<dt><b>@config</b> (<i>&lt;variable&gt;</i>)</dt>
	<dd>returns the value of <i>&lt;variable&gt;</i> specified in <tt>config.txt</tt></dd>
	</dl>
	<p />
	<h3><a name="macro_6"></a>Simple Macro Example</h3>
	<pre class="code">macro foo {
   $foobegin = $.pos
   do move 168 128 prt_in
   do talk @npc (172 130)
   do store
   do store
   do buy @store (Silver Arrow) 10000
   do move 280 198 prontera
   do talk @npc (282 200)
   do talk cont
   do talk resp 1
   do storage add @inventory (Silver Arrow) @eval (@invamount (Silver Arrow) - 1000)
   do move $foobegin
}</pre>

	When invoked via the command <tt>"macro foo [times]"</tt> the macro does the following:
	<ul>
	<li>store our current position in "foobegin"</li>
	<li>move to 168 128 prt_in (weapon shop)</li>
	<li>talk to the npc which is located at 172 130 (weapon dealer)</li>
	<li>type "store" twice to show what he sells</li>
	<li>buy 10,000 silver arrows.</li>
	<li>move to 280 198 prontera (Prontera east gate)</li>
	<li>talk to kafra</li>
	<li>talk conf and talk resp 1 opens the storage</li>
	<li>add all but 1000 silver arrows to storage and finally</li>
	<li>return to where we were before running this macro</li>
	</ul>

<a href="#top"><small>back to top</small></a>
</div>


<h2><a name="macrobnf"></a>full overview of macro's syntax (bnf)</h2>
<div class="p">
<table width="75%">
<tr class="one"><td>&lt;letter&gt;</td><td> 'a' | 'b' | 'c' | .. | 'z' | 'A' | 'B' | 'C' | .. | 'Z'</td></tr>
<tr class="two"><td>&lt;digit&gt;</td><td> '0' | '1' | '2' | .. | '9'</td></tr>
<tr class="one"><td>&lt;blank&gt;</td><td> ' '</td></tr>
<tr class="two"><td>&lt;undersc&gt;</td><td> '_'</td></tr>
<tr class="one"><td>&lt;special&gt;</td><td> '-' | &lt;undersc&gt; | '.'</td></tr>
<tr class="two"><td>&lt;sign&gt;</td><td> '+' | '-'</td></tr>
<tr class="one"><td>&lt;cond&gt;</td><td> '==' | '!=' | '&lt;' | '&gt;' | '&lt;=' | '&gt;='</td></tr>
<tr class="two"><td>&lt;newline&gt;</td><td> '\n' [&lt;newline&gt;] | '\r\n' [&lt;newline&gt;]</td></tr>
<tr class="one"><td>&lt;u_int&gt;</td><td> &lt;digit&gt; [&lt;u_int&gt;]</td></tr>
<tr class="two"><td>&lt;int&gt;</td><td> &lt;sign&gt; &lt;u_int&gt;</td></tr>
<tr class="one"><td>&lt;ident&gt;</td><td> &lt;letter&gt; [&lt;ident&gt; | &lt;digit&gt; | &lt;undersc&gt;]</td></tr>
<tr class="two"><td>&lt;s_ident&gt;</td><td> '.' &lt;ident&gt;</td></tr>
<tr class="one"><td>&lt;s_word&gt;</td><td> &lt;letter&gt; [&lt;s_word&gt;] | &lt;digit&gt; [&lt;s_word&gt;]</td></tr>
<tr class="two"><td>&lt;word&gt;</td><td> &lt;letter&gt; [&lt;word&gt;] | &lt;digit&gt; [&lt;word&gt;] | &lt;special&gt; [&lt;word&gt;]</td></tr>
<tr class="one"><td>&lt;string&gt;</td><td> &lt;word&gt; [&lt;blank&gt; [&lt;string&gt;]]</td></tr>
<tr class="two"><td>&lt;math&gt;</td><td> '+' | '-' | '*' | '/'</td></tr>
<tr class="one"><td>&lt;expression&gt;</td><td> &lt;int&gt; &lt;math&gt; &lt;int&gt; | &lt;int&gt; &lt;math&gt; &lt;expression&gt;</td></tr>
<tr class="two"><td>&lt;automacro name&gt;</td><td> &lt;word&gt;</td></tr>
<tr class="one"><td>&lt;macro name&gt;</td><td> &lt;word&gt;</td></tr>
<tr class="two"><td>&lt;keyword&gt;</td><td> '@npc' | '@cart' | '@inventory' | '@store' | '@storage' | '@player' | '@vender' | '@var' | '@random' | '@rand' | '@invamount' | '@cartamount' | '@shopamount' | '@storamount' | '@eval' | '@arg' | '@config' </td></tr>
<tr class="one"><td>&lt;argument&gt;</td><td> '(' &lt;string&gt; ')' | '(' &lt;expression&gt; ')'</td></tr>
<tr class="two"><td>&lt;parseable&gt;</td><td> &lt;string&gt; | &lt;keyword&gt; &lt;argument&gt; | &lt;parseable&gt;</td></tr>
<tr class="one"><td>&lt;macro command&gt;</td><td> 'log' &lt;parseable&gt; | 'lock' &lt;parseable&gt; | 'release'
[&lt;parseable&gt; | 'all'] | 'pause' [&lt;u_int&gt;] | 'call' &lt;macro name&gt; [&lt;u_int&gt; | &lt;parseable&gt;] | 'stop'</td></tr>
<tr class="two"><td>&lt;openkore command&gt;</td><td> (see openkore manual for console commands)</td></tr>
<tr class="one"><td>&lt;command&gt;</td><td> &lt;macro command&gt; | 'do' &lt;openkore command&gt; &lt;parseable&gt;</td></tr>
<tr class="two"><td>&lt;variable&gt;</td><td> '$' &lt;ident&gt;</td></tr>
<tr class="one"><td>&lt;s_variable&gt;</td><td> '$' &lt;s_ident&gt;</td></tr>
<tr class="two"><td>&lt;d_variable&gt;</td><td> '${' [&lt;variable&gt; | &lt;s_variable&gt;] '}'</td></tr>
<tr class="one"><td>&lt;label&gt;</td><td> &lt;ident&gt;</td></tr>
<tr class="two"><td>&lt;script&gt;</td><td> &lt;open block&gt; &lt;block&gt; &lt;close block&gt;</td></tr>
<tr class="one"><td>&lt;block&gt;</td><td> &lt;statement&gt; &lt;newline&gt; [&lt;block&gt;] | &lt;command&gt; &lt;newline&gt; [&lt;block&gt;]</td></tr>
<tr class="two"><td>&lt;open block&gt;</td><td> 'script' &lt;word&gt; '{' &lt;newline&gt;</td></tr>
<tr class="one"><td>&lt;close block&gt;</td><td> '}' &lt;newline&gt;</td></tr>
<tr class="two"><td>&lt;statement&gt;</td><td> &lt;varassign&gt; | &lt;whilestat&gt; | &lt;ifstat&gt; | &lt;gotostat&gt; | &lt;labeldecl&gt;</td></tr>
<tr class="one"><td>&lt;varassign&gt;</td><td> &lt;variable&gt; '=' &lt;parseable&gt; | &lt;variable&gt; '++' | &lt;variable&gt; '--'</td></tr>
<tr class="two"><td>&lt;dvarassign&gt;</td><td> &lt;dvariable&gt; '=' &lt;parseable&gt;</td></tr>
<tr class="one"><td>&lt;labeldecl&gt;</td><td> ':' &lt;label&gt;</td></tr>
<tr class="two"><td>&lt;gotostat&gt;</td><td> 'goto' &lt;label&gt;</td></tr>
<tr class="one"><td>&lt;ifstat&gt;</td><td> 'if' '(' ['"'] (&lt;variable&gt;|&lt;parseable&gt;) ['"'] &lt;cond&gt; ['"'] (&lt;variable&gt;|&lt;parseable&gt;) ['"'] ')' (&lt;gotostat&gt; | 'stop')</td></tr>
<tr class="two"><td>&lt;whilestat&gt;</td><td> 'while' '(' ['"'] (&lt;variable&gt;|&lt;parseable&gt;) ['"'] &lt;cond&gt; ['"'] (&lt;variable&gt;|&lt;parseable&gt;) ['"'] ')' 'as' &lt;label&gt; &lt;newline&gt;<br />
&lt;block&gt;<br />
'end' &lt;label&gt;</td></tr>
</table>
<a href="#top"><small>back to top</small></a>
</div>


<h2><a name="automacro"></a>Automacro syntax</h2>
<div class="p">
	<pre class="code">automacro foo {
    condition bar
    condition baz, yatta
    call macroname
}
automacro mi {
    condition moo
    condition xyz
    call {
    	do this
    	do that
    }
}</pre>
	Automacros are macros that will be automatically triggered when certain given conditions match.

	<p />
	<dl class="commands">
	<dt><b>map</b> <i>&lt;mapname&gt;</i></dt>
	<dd>triggers when your current map is <i>&lt;mapname&gt;</i></dd>

	<dt><b>location</b> [not] <i>&lt;mapname</i> [<i>&lt;x1&gt; &lt;y1&gt;</i> [<i>&lt;x2&gt; &lt;y2&gt;</i>]] [, ...]</dt>
	<dd>triggers when you are [not] at the specified location.<br />
	When neither <i>&lt;x1&gt; &lt;y1&gt;</i> nor <i>&lt;x2&gt; &lt;y2&gt;</i> are given it triggers when you are [not] on <i>&lt;mapname&gt;</i>.<br />
	When <i>&lt;x2&gt; &lt;y2&gt;</i> are not given it triggers when you are [not] on <i>&lt;mapname&gt;</i> at <i>&lt;x1&gt;</i>, <i>&lt;x2&gt;</i>.<br />
	When both <i>&lt;x1&gt; &lt;y1&gt;</i> and <i>&lt;x2&gt; &lt;y2&gt;</i> are defined it triggers when you are on <i>&lt;mapname&gt;</i> somewhere
	between <i>&lt;x1&gt;</i>, <i>&lt;y1&gt;</i> (upper left) and <i>&lt;x2&gt;</i>, <i>&lt;y2&gt;</i> (lower right, where <i>&lt;x1&gt;</i> &lt;
	<i>&lt;x2&gt;</i> and <i>&lt;y1&gt;</i> &gt; <i>&lt;y2&gt;</i><br />
	Comma-separated arguments are treated as OR conditions:<br />
	<pre class="code">location geffen, prontera 123 234</pre>
	triggers when you are either in geffen or in prontera at 123 234.<br />
	Multiple lines are treated as AND conditions:<br />
	<pre class="code">location not geffen
location not prontera</pre>
	triggers when you are neither in geffen nor in prontera.</dd>

	<dt><b>mapchange</b> <i>(&lt;mapname&gt;</i>|<tt>any</tt><i>)</i> [, ...]</dt>
	<dd>triggers when changing map to <i>&lt;mapname&gt;</i>. If the argument is <tt>any</tt> then it triggers on any map change.<br />
	Comma-separated arguments are treated as OR conditions.</dd>

	<dt><b>hp</b> <tt>&lt;<a href="#condition">condition</a>&gt;</tt> <i>&lt;amount&gt;</i>[%]</dt>
	<dd>triggers when your hp match <i>&lt;<a href="#condition">condition</a>&gt;
&lt;amount&gt;</i> (absolute value) or <i>&lt;<a href="#condition">condition</a>&gt;
&lt;amount&gt;</i> percent. (relative value)<br />
<a name="condition"></a><table>
<tr class="head"><th>condition</th><th>meaning</th></tr>
<tr class="one"><td>&lt;</td><td>less than</td></tr>
<tr class="two"><td>&lt;=</td><td>less than or equal to</td></tr>
<tr class="one"><td>==</td><td>equal to</td></tr>
<tr class="two"><td>&gt;=</td><td>greater than or equal to</td></tr>
<tr class="one"><td>&gt;</td><td>greater than</td></tr>
<tr class="two"><td>!=</td><td>not equal to</td></tr>
</table>
	Multiple lines are treated as AND conditions.</dd>

	<dt><b>sp</b> <tt>&lt;<a href="#condition">condition</a>&gt;</tt> <i>&lt;amount&gt;</i>[%]</dt>
	<dd>triggers when your sp match <i>&lt;<a href="#condition">condition</a>&gt;
&lt;amount&gt;</i> (absolute value) or <i>&lt;<a href="#condition">condition</a>&gt;
&lt;amount&gt;</i> percent. (relative value)<br />
        Multiple lines are treated as AND conditions.</dd>

	<dt><b>spirit</b> <tt>&lt;<a href="#condition">condition</a>&gt;</tt> <i>&lt;amount&gt;</i></dt>
	<dd>triggers when your spirits match <i>&lt;<a href="#condition">condition</a>&gt; &lt;amount&gt;</i>.<br />
	Multiple lines are treated as AND conditions.</dd>

	<dt><b>weight</b> <tt>&lt;<a href="#condition">condition</a>&gt;</tt> <i>&lt;amount&gt;</i>[%]</dt>
	<dd>triggers when your weight matches <i>&lt;<a href="#condition">condition</a>&gt;
&lt;amount&gt;</i> (absolute value) or <i>&lt;<a href="#condition">condition</a>&gt;
&lt;amount&gt;</i> percent. (relative value)<br />
	Multiple lines are treated as AND conditions.</dd>

	<dt><b>cartweight</b> <tt>&lt;<a href="#condition">condition</a>&gt;</tt> <i>&lt;amount&gt;</i>[%]</dt>
	<dd>triggers when your cart weight matches <i>&lt;<a href="#condition">condition</a>&gt;
&lt;amount&gt;</i> (absolute value) or <i>&lt;<a href="#condition">condition</a>&gt;
&lt;amount&gt;</i> percent. (relative value)<br />
	Multiple lines are treated as AND conditions.</dd>

	<dt><b>zeny</b> <tt>&lt;<a href="#condition">condition</a>&gt;</tt> <i>&lt;amount&gt;</i></dt>
	<dd>triggers when your zeny amount matches <i>&lt;<a href="#condition">condition</a>&gt; &lt;amount&gt;</i>.<br />
	Multiple lines are treated as AND conditions.</dd>

	<dt><b>soldout</b> <tt>&lt;<a href="#condition">condition</a>&gt;</tt> <i>&lt;slots&gt;</i></dt>
	<dd>triggers when the amount of sold out item slots in your shop matches <i>&lt;<a href="#condition">condition</a>&gt; &lt;slots&gt;</i>.<br />
	Multiple lines are treated as AND conditions.</dd>

	<dt><b>status</b> [not] <i>&lt;status&gt;</i> [, ...]</dt>
	<dd>triggers when you are [not] <i>&lt;status&gt;</i>.<br />
	The statuses "dead" and "muted" are supported additionally.<br />
	Comma-separated arguments are treated as OR conditions.<br />
	Multiple lines are treated as AND conditions.</dd>

	<dt><b>inventory</b> "<i>&lt;item&gt;</i>" <tt>&lt;<a href="#condition">condition</a>&gt;</tt> <i>&lt;amount&gt;</i> [, ...]</dt>
	<dd>triggers when you have <i>&lt;<a href="#condition">condition</a>&gt; &lt;amount&gt;</i> of <i>&lt;item&gt;</i> in your inventory.<br />
	Comma-separated arguments are treated as OR conditions.<br />
	Multiple lines are treated as AND conditions.</dd>

	<dt><b>storage</b> "<i>&lt;item&gt;</i>" <tt>&lt;<a href="#condition">condition</a>&gt;</tt> <i>&lt;amount&gt;</i> [, ...]</dt>
	<dd>triggers when you have <i>&lt;<a href="#condition">condition</a>&gt; &lt;amount&gt;</i> of <i>&lt;item&gt;</i> in your storage.<br />
	Comma-separated arguments are treated as OR conditions.<br />
	Multiple lines are treated as AND conditions.</dd>

	<dt><b>cart</b> "<i>&lt;item&gt;</i>" <tt>&lt;<a href="#condition">condition</a>&gt;</tt> <i>&lt;amount&gt;</i> [, ...]</dt>
	<dd>triggers when you have <i>&lt;<a href="#condition">condition</a>&gt; &lt;amount&gt;</i> of <i>&lt;item&gt;</i> in your cart.<br />
	Comma-separated arguments are treated as OR conditions.<br />
	Multiple lines are treated as AND conditions.</dd>

	<dt><b>shop</b> "<i>&lt;item&gt;</i>" <tt>&lt;<a href="#condition">condition</a>&gt;</tt> <i>&lt;amount&gt;</i> [, ...]</dt>
	<dd>triggers when you have <i>&lt;<a href="#condition">condition</a>&gt; &lt;amount&gt;</i> of <i>&lt;item&gt;</i> in your shop.<br />
	Comma-separated arguments are treated as OR conditions.<br />
	Multiple lines are treated as AND conditions.</dd>

	<dt><b>base</b> <tt>&lt;<a href="#condition">condition</a>&gt;</tt> <i>&lt;level&gt;</i></dt>
	<dd>triggers when your baselevel matches <i>&lt;<a href="#condition">condition</a>&gt; &lt;level&gt;</i>.<br />
	Multiple lines are treated as AND conditions.</dd>

	<dt><b>job</b> <tt>&lt;<a href="#condition">condition</a>&gt;</tt> <i>&lt;level&gt;</i></dt>
	<dd>triggers when your joblevel matches <i>&lt;<a href="#condition">condition</a>&gt; &lt;level&gt;</i>.<br />
	Multiple lines are treated as AND conditions.</dd>

	<dt><b>class</b> <i>&lt;job&gt;</i></dt>
	<dd>triggers when your jobclass is <i>&lt;job&gt;</i></dd>

	<dt><b>spell</b> <i>&lt;spell&gt;</i> [, ...]</dt>
	<dd>triggers when someone casts <i>&lt;spell&gt;</i> on you or you are in it's scope.<br />
	Comma-separated arguments are treated as OR conditions.</dd>

	<dt><b>monster</b> <i>&lt;monstername&gt;</i> [, ...]</dt>
	<dd>triggers when <i>&lt;monstername&gt;</i> is near.<br />
	When triggered the special variables <tt><a href="#.lastMonster">$.lastMonster</a></tt> and
	<tt><a href="#.lastMonsterPos">$.lastMonsterPos</a></tt> are set.<br />
	Comma-separated arguments are treated as OR conditions.<br />
	Multiple lines are treated as AND conditions.</dd>

	<dt><b>player</b> "<i>&lt;playername&gt;</i>" [, <i>&lt;distance&gt;</i> ]</dt>
	<dd>triggers when <i>&lt;playername&gt;</i> is on screen or not more than <i>&lt;distance&gt;</i> blocks away.<br />
	Multiple lines are treated as AND conditions.</dd>

	<dt><b>equipped</b> [<i>&lt;slot&gt;</i>] <i>(&lt;item&gt;</i>|<tt>none</tt><i>)</i> [, ...]</dt>
	<dd>triggers when <i>&lt;item&gt;</i> or <tt>none</tt> is equipped [in slot <i>&lt;slot&gt;</i>]<br />
	Slots are <tt>topHead</tt>, <tt>midHead</tt>, <tt>lowHead</tt>, <tt>leftHand</tt>, <tt>rightHand</tt>,
	<tt>robe</tt>, <tt>armor</tt>, <tt>shoes</tt>, <tt>leftAccessory</tt>, <tt>rightAccessory</tt> and
	<tt>arrow</tt><br />
	Comma-separated arguments are treated as OR conditions.<br />
	Multiple lines are treated as AND conditions.</dd>

	<dt><b>var</b> <i>&lt;variable&gt;</i> <i>(</i><tt>unset</tt>|<tt>&lt;<a href="#condition">condition</a>&gt;</tt> <i>&lt;value&gt;)</i></dt>
	<dd>triggers when <i>&lt;variable&gt;</i> is either <tt>unset</tt> or matches <i>&lt;<a href="#condition">condition</a>&gt; &lt;value&gt;</i>.<br />
	Multiple lines are treated as AND conditions.</dd>

	<dt><b>varvar</b> <i>&lt;nested variable&gt;</i> <i>(</i><tt>unset</tt>|<tt>&lt;<a href="#condition">condition</a>&gt;</tt> <i>&lt;value&gt;)</i></dt>
	<dd>triggers when <i>&lt;nested variable&gt;</i> is either <tt>unset</tt> or matches <i>&lt;<a href="#condition">condition</a>&gt; &lt;value&gt;</i>.<br />
	Multiple lines are treated as AND conditions.</dd>

	<dt><b>console</b> <i>(</i>"<i>&lt;text&gt;</i>"|/<i>&lt;<a href="http://www.regular-expressions.info">regexp</a>&gt;</i>/[i]<i>)</i></dt>
	<dd>triggers when <i>&lt;text&gt;</i> is received on console or the text received matches &lt;<a href="http://www.regular-expressions.info">regexp</a>&gt;.<br />
	The <b>i</b> switch means the <a href="http://www.regular-expressions.info">regexp</a> is case insensitive.<br/>
	Sets <tt><a href="#.lastLogMsg">$.lastLogMsg</a></tt>.</dd>

	<dt><b>pm</b> <i>(</i>"<i>&lt;text&gt;</i>"|/<i>&lt;<a href="http://www.regular-expressions.info">regexp</a>&gt;</i>/[i]<i>)</i> [, <i>&lt;player&gt;</i>]</dt>
	<dd>triggers when <i>&lt;text&gt;</i> is received by pm [from <i>&lt;player&gt;</i>] or the text received matches &lt;<a href="http://www.regular-expressions.info">regexp</a>&gt;.<br />
	The <b>i</b> switch means the <a href="http://www.regular-expressions.info">regexp</a> is case insensitive.<br/>
	Sets <tt><a href="#.lastpm">$.lastpm</a></tt> and <tt><a href="#.lastpmMsg">$.lastpmMsg</a></tt>.</dd>

	<dt><b>pubm</b> <i>(</i>"<i>&lt;text&gt;</i>"|/<i>&lt;<a href="http://www.regular-expressions.info">regexp</a>&gt;</i>/[i]<i>)</i> [, <i>&lt;distance&gt;</i>]</dt>
	<dd>triggers when a public message [within a distance of <i>&lt;distance&gt;</i>] is received and it is <i>&lt;text&gt;</i> or matches &lt;<a href="http://www.regular-expressions.info">regexp</a>&gt;<br />
	The <b>i</b> switch means the <a href="http://www.regular-expressions.info">regexp</a> is case insensitive.<br/>
	Sets <tt><a href="#.lastpub">$.lastpub</a></tt> and <tt><a href="#.lastpubMsg">$.lastpubMsg</a></tt>.</dd>

	<dt><b>party</b> <i>(</i>"<i>&lt;text&gt;</i>"|/<i>&lt;<a href="http://www.regular-expressions.info">regexp</a>&gt;</i>/[i]<i>)</i></dt>
	<dd>triggers when <i>&lt;text&gt;</i> is received by partychat or the text received matches &lt;<a href="http://www.regular-expressions.info">regexp</a>&gt;.<br />
	The <b>i</b> switch means the <a href="http://www.regular-expressions.info">regexp</a> is case insensitive.<br/>
	Sets <tt><a href="#.lastparty">$.lastparty</a></tt> and <tt><a href="#.lastpartyMsg">$.lastpartyMsg</a></tt>.</dd>

	<dt><b>guild</b> <i>(</i>"<i>&lt;text&gt;</i>"|/<i>&lt;<a href="http://www.regular-expressions.info">regexp</a>&gt;</i>/[i]<i>)</i></dt>
	<dd>triggers when <i>&lt;text&gt;</i> is received by guildchat or the text received matches &lt;<a href="http://www.regular-expressions.info">regexp</a>&gt;.<br />
	The <b>i</b> switch means the <a href="http://www.regular-expressions.info">regexp</a> is case insensitive.<br/>
	Sets <tt><a href="#.lastguild">$.lastguild</a></tt> and <tt><a href="#.lastguildMsg">$.lastguildMsg</a></tt>.</dd>

	<dt><b>hook</b> <i>&lt;hookname&gt;</i></dt>
	<dd>triggers when openkore calls <i>&lt;hookname&gt;</i>.</dd>

	<dt><b>run-once</b> <i>(</i><tt>0</tt>|<tt>1</tt><i>)</i></dt>
	<dd>When set to <tt>1</tt> the automacro will be deactivated after being triggered.<br />
	Use the macro command <tt><a href="#macro_release">release</a></tt> to reenable this automacro.</dd>

	<dt><b>overrideAI</b> <i>(</i>0|1<i>)</i></dt>
	<dd>When set to <tt>1</tt> the macro ignores openkore's AI.
	This means it won't pause upon "move" or "status dead".</dd>

	<dt><b>delay</b> <i>&lt;n&gt;</i></dt>
	<dd>Waits for <i>&lt;n&gt;</i> seconds before calling the corresponding macro.</dd>

	<dt><b>timeout</b> <i>&lt;n&gt;</i></dt>
	<dd>Wait at least for <i>&lt;n&gt;</i> seconds before this automacro can be triggered again.</dd>

	<dt><b>macro_delay</b> <i>&lt;n&gt;</i></dt>
	<dd>Overrides the global <a href="#files"><tt>macro_delay</tt></a> setting for the called macro</dd>

	<dt><b>set</b> <i>&lt;variable&gt;</i> <i>&lt;value&gt;</i></dt>
	<dd>Sets variable <i>&lt;variable&gt;</i> to <i>&lt;value&gt;</i>
	You can have multiple <tt><b>set</b></tt> lines per automacro.</dd>

	<dt><b>call</b> <i>&lt;name&gt;</i></dt>
	<dd>Calls macro <i>&lt;name&gt;</i> when the automacro is triggered.</dd>

	<dt><b>call</b> {<br />
&nbsp;&nbsp;&nbsp;&nbsp;<i>&lt;instructions&gt;</i><br />
}</dt>
	<dd>Runs <i>&lt;instructions&gt;</i> when the automacro is triggered.</dd>

	<dt><b>orphan</b> <i>&lt;method&gt;</i></dt>
	<dd>Sets the method of how to deal with <a href="#orphan">orphaned</a> macros.</dd>
	</dl>

	<p />
	<h3><a name="automacro_1"></a>Automacro Example</h3>
	<pre class="code">automacro checkshop {
   location prontera
   soldout &gt;= 3
   delay 60
   call reopenshop
}

macro reopenshop {
   closeshop
}</pre>

	This automacro is triggered when you have a shop open in Prontera and there are three or more
	items sold out. When triggered, it waits for one minute then calls the macro "reopenshop" which closes your shop.
	If you have <tt>shopAuto_open</tt> or <a href="http://forums.openkore.com/viewtopic.php?t=5032"><tt>autoshop</tt></a>
	set to 1, it will be re-opened after a certain time.<br />

<a href="#top"><small>back to top</small></a>
</div>

<h2><a name="orphan"></a>Orphaned macros</h2>
<div class="p">
	It may happen - for example by using <tt>ai clear</tt> while a macro is running - that a macro becomes orphaned.
	That means the macro object exists but cannot continue because it requires the AI queue to contain the entry
	"macro" (or "deal") at the first place. When the AI queue gets cleared, the "macro" entry vanishes.<br />
	Before 1.0.2 this problem had to be solved by manually typing "macro stop". With 1.0.2 and up you may select which
	mechanism should be used to resolve that issue. There are three methods:
	<table>
	<tr class="one"><td>terminate</td><td>terminates the macro (equivalent to <tt>macro stop</tt>)</td></tr>
	<tr class="two"><td>reregister</td><td>re-registers to AI queue, overriding other entries.<br />This means to force the continuation of the macro.</td></tr>
	<tr class="one"><td>reregister_safe</td><td>re-registers to AI queue when AI gets idle.<br />This means the macro will continue when all other tasks are done.</td></tr>
	</table>

<a href="#top"><small>back to top</small></a>
</div>

<h2>Now that you read the documentation..</h2>
<div class="p">
	.. you may add the following line to your config.txt:<br />
	<pre class="code">macro_readmanual red/chili</pre>
	or the plugin will unload immediately.
</div>


<h2><a name="debugging"></a>Debugging</h2>
<div class="p">
	Debugging is done by the <b>cvsdebug.pm</b> package (included).<br />
	<br />
	Add <tt><b>macro_debug</b> <i>&lt;level(s)&gt;</i></tt> to your <tt>config.txt</tt>.<br />
	Debug levels are:
	<dl class="commands">
	<dt><b>variable_trace</b></dt>
	<dd>tracks variables</dd>

	<dt><b>command_preparsed</b></dt>
	<dd>unparsed command line</dd>

	<dt><b>command_parsed</b></dt>
	<dd>parsed command line</dd>

	<dt><b>parser_steps</b></dt>
	<dd>parser steps</dd>

	<dt><b>function_call_macro</b></dt>
	<dd>macro functions (low traffic)</dd>

	<dt><b>function_call_auto</b></dt>
	<dd>automacro functions (high traffic)</dd>

	<dt><b>automacro_checks</b></dt>
	<dd>automacro checks (high traffic)</dd>

	<dt><b>developers</b></dt>
	<dd>debugging messages (only?) useful for developers</dd>

	<dt><b>full</b></dt>
	<dd>full debug, all levels.</dd>
	</dl>

	Debug levels are separated by pipes <tt>|</tt><br />
	Example:<br />
	<pre class="code">macro_debug variable_trace|parser_steps</pre>

<a href="#top"><small>back to top</small></a>
</div>


<h2><a name="todo"></a>Todos/Known bugs/Known limitations</h2>
<div class="p">
	<ul>
	<li>automacros are not supposed to run when another macro is active</li>
	<li>automacro check <tt>console</tt> ignores the following domains: <tt>selfchat</tt>, <tt>macro</tt> and <tt>cvsdebug</tt>.</li>
	<li>automacro check <tt>console</tt> ignores everything that begins with "[macro]" to avoid infinite loops</li>
	<li>do <b>not</b> use closing brackets ")" in keyword arguments unless
it's the closing bracket for an argument.<br />
for example: <tt>@random ("foo", "bar", "@eval (4 + 5)", "yatta")</tt> is
allowed, <tt>@random ("foo", "bar", ":-)", "yatta")</tt> is not.</li>
	</ul>

	<p />
	If there are any bugs, please report them to me. Use at your own risk, I won't give any guarantee that this script
	works as described. So if the example above buys 10.000 main gauche, I'm not responsible for this (this won't happen, but just to be on the safe side..^^).

	Hope that's all.
	Have fun.<br />

<a href="#top"><small>back to top</small></a>
</div>


<h2><a name="download"></a>Download</h2>
<div class="p">
	<a href="macro-1.2.0.zip">Download macro plugin version 1.2.0</a><br />
	<a href="macro-0.9.3.zip">Download macro plugin version 0.9.3</a> (depreciated, <a href="index-0.9.html">documentation</a>)<br />
	<a href="macro-0.8.1.zip">Download macro plugin version 0.8.1</a> (outdated)

	<p />
	See also <a href="http://forums.openkore.com/viewtopic.php?t=3793">this forum post</a> for general information about how to install plugins.<br />

<a href="#top"><small>back to top</small></a>
</div>


<h2><a name="cvs"></a>Development version (SVN)</h2>
<div class="p">
	The development version can be found in the OpenKore SVN repository.
	<p />
	Windows users should read <a href="http://www.openkore.com/wiki/index.php/SVN_guide_for_users">the SVN guide</a>.

	<p />
	Linux users can run the following commands to get the development version from SVN:
	<pre class="linux">svn co https://svn.sourceforge.net/svnroot/openkore/macro/trunk/</pre>

<a href="#top"><small>back to top</small></a>
</div>

<h2><a name="extras"></a>Extras</h2>
<div class="p">
	The SVN version includes two extra files:
	<dl>
	<dt><tt>recorder.pl</tt></dt>
	<dd>a standalone plugin for openkore that can be used to record macros (only commandline).</dd>
	<dt><tt>mconv.pl</tt></dt>
	<dd>a (yet incomplete) program to convert 0.8.x and 0.9.x macros to 1.x.x.</dd>
	</dl>

<a href="#top"><small>back to top</small></a>
</div>

<h2><a name="faq"></a>Frequently asked questions</h2>
<div class="p">
	<dl>
	<dt><i>When starting openkore the macro plugin tells me to read the documentation and unloads!</i></dt>
	<dd>Then you should read the documentation. I won't give you a different answer.</dd>

	<dt><i>Help! I installed the macro plugin but my macros won't show up!</i></dt>
	<dd>Make sure you saved your macros to <tt>macros.txt</tt> in your <tt>control</tt> folder.</dd>

	<dt><i>Help! Openkore gives me some weird perl errors and tells me "a plugin failed to load"!</i></dt>
	<dd><b>Never</b> save your macros/automacros to a .pl file in your <tt>plugins</tt> folder. Put them
	in a file called <tt>macros.txt</tt> in your <tt>control</tt> folder.</dd>
	
	<dt><i>I have some macros that worked fine with macro 0.9.x, but now I only get syntax errors.</i></dt>
	<dd>The syntax has changed with macro 1.0.0. Read the documentation to learn about the new syntax.
	Most 0.8.x and 0.9.x macros can be convertedusing the <tt>mconv.pl</tt> utility.</dd>
	
	<dt><i>Where can I get a macro that does [insert feature here]?</i></dt>
	<dd>Search the <a href="http://forums.openkore.com/viewforum.php?f=18">forum</a>. If you
	cannot find a macro for your purposes, write it. No spoonfeeding.</dd>
	</dl>

<a href="#top"><small>back to top</small></a>
</div>


<h2><a name="forum"></a>Forum discussion</h2>
<div class="p">
	For discussion and support, go to <a href="http://forums.openkore.com/viewforum.php?f=18">the macro plugin's forum</a>.<br />

<a href="#top"><small>back to top</small></a>
</div>


<h2><a name="license"></a>License</h2>
<div class="p">
	The macro plugin is licensed under the <a href="http://www.gnu.org/licenses/gpl.html">GNU General Public License</a>.<br />

<a href="#top"><small>back to top</small></a>
</div>


<h2><a name="author"></a>Author</h2>
<div class="p">
	Written by <a href="http://forums.openkore.com/profile.php?mode=viewprofile&amp;u=8363">arachno</a> &lt;arachnophobia at users dot sourceforge dot net&gt;<br />

<a href="#top"><small>back to top</small></a>
</div>


<p>
<a href="http://validator.w3.org/check?uri=referer"><img
          src="http://www.w3.org/Icons/valid-xhtml10"
          alt="Valid XHTML 1.0!" height="31" width="88" border="0" /></a>
</p>


</body>
</html>
